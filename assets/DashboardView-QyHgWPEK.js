import{_ as h,r as i,o as l,c as p,a as e,b as o,w as a,i as k,f as v,F as m,d as n}from"./index-Bv1ygyXE.js";const f={BASE_URL:"/vueWeek6/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_API_NAME:"jasonfu-api-vuetest",VITE_APP_API_URL:"https://ec-course-api.hexschool.io/v2"},{VITE_APP_API_URL:g}=f,b={data(){return{checkSuccess:!1}},methods:{checkLoginToken(){const c=document.cookie.replace(/(?:(?:^|.*;\s*)jasonToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(c){this.$http.defaults.headers.common.Authorization=c;const r=`${g}/api/user/check`;this.$http.post(r,{api_token:this.token}).then(s=>{this.checkSuccess=!0,console.log("登入驗證",s.data.success)}).catch(s=>{alert("請先登入"),this.$router.push("/login"),console.dir(s.response.data.message)})}else alert("您尚未登入。"),this.$router.push("/login")},signOut(){document.cookie="jasonToken=;expires=;",alert("token 已清除"),this.$router.push("/login")}},mounted(){this.checkLoginToken()}},P=e("h1",{class:"text-center"},"這裡是後台喔",-1),V={class:"navbar navbar-expand-lg navbar-light",style:{"background-color":"#768dcc"}},$={class:"container-fluid"},A={class:"collapse navbar-collapse justify-content-center",id:"navbarNavAltMarkup"},x={class:"navbar-nav"},R=e("span",{class:"separator"},"|",-1),E=e("span",{class:"separator"},"|",-1),T=e("span",{class:"separator"},"|",-1);function L(c,r,s,I,_,d){const t=i("RouterLink"),u=i("RouterView");return l(),p(m,null,[P,e("nav",V,[e("div",$,[e("div",A,[e("div",x,[o(t,{to:"/",class:"nav-link"},{default:a(()=>[n("回到前台")]),_:1}),R,o(t,{to:"/dashboard/adminProduct",class:"nav-link"},{default:a(()=>[n("後台產品列表")]),_:1}),E,o(t,{to:"/dashboard/adminOrder",class:"nav-link"},{default:a(()=>[n("後台訂單")]),_:1}),T,o(t,{to:"/login",class:"nav-link",onClick:d.signOut},{default:a(()=>[n("登出")]),_:1},8,["onClick"])])])])]),_.checkSuccess?(l(),k(u,{key:0})):v("",!0)],64)}const S=h(b,[["render",L]]);export{S as default};
