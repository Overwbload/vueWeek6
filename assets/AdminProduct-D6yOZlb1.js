import{_ as X,o as V,c as R,a as n,F as pt,e as Ct,t as G,k as I,l as Ot,g as F,v as q,j as xt,m as kt,d as ht,r as z,b as j,w as It}from"./index-Bv1ygyXE.js";import{P as $t}from"./PaginationComponent-CVp8NEMY.js";const Lt={data(){return{}},methods:{openModal(f){this.$emit("openNewModal",f)}}};function Vt(f,l,s,r,a,e){return V(),R("button",{class:"btn btn-primary",onClick:l[0]||(l[0]=t=>e.openModal("new"))}," 建立新的產品 ")}const Rt=X(Lt,[["render",Vt]]),Ut={props:["products"],data(){return{}},methods:{openModal(f,l){this.$emit("openCreatedModal",f,l)}}},Bt={class:"table mt-4"},Ft=n("thead",null,[n("tr",null,[n("th",{width:"120"},"分類"),n("th",null,"產品名稱"),n("th",{width:"120"},"原價"),n("th",{width:"120"},"售價"),n("th",{width:"100"},"是否啟用"),n("th",{width:"120"},"編輯")])],-1),qt={class:"text-start"},Kt={class:"text-start"},Yt={key:0,class:"text-success"},Wt={key:1},Qt={class:"btn-group"},zt=["onClick"],jt=["onClick"];function Ht(f,l,s,r,a,e){return V(),R("table",Bt,[Ft,n("tbody",null,[(V(!0),R(pt,null,Ct(s.products,t=>(V(),R("tr",{key:t.id},[n("td",null,G(t.category),1),n("td",null,G(t.title),1),n("td",qt,G(t.origin_price),1),n("td",Kt,G(t.price),1),n("td",null,[t.is_enabled===1?(V(),R("span",Yt,"啟用")):(V(),R("span",Wt,"未啟用"))]),n("td",null,[n("div",Qt,[n("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:i=>e.openModal("edit",t)},"編輯",8,zt),n("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:i=>e.openModal("delete",t)},"刪除",8,jt)])])]))),128))])])}const Jt=X(Ut,[["render",Ht]]);var Tt={exports:{}},nt={exports:{}},it={exports:{}};/*!
  * Bootstrap data.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var _t;function Gt(){return _t||(_t=1,function(f,l){(function(s,r){f.exports=r()})(I,function(){const s=new Map;return{set(a,e,t){s.has(a)||s.set(a,new Map);const i=s.get(a);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,t)},get(a,e){return s.has(a)&&s.get(a).get(e)||null},remove(a,e){if(!s.has(a))return;const t=s.get(a);t.delete(e),t.size===0&&s.delete(a)}}})}(it)),it.exports}var rt={exports:{}},tt={exports:{}};/*!
  * Bootstrap index.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var gt;function Y(){return gt||(gt=1,function(f,l){(function(s,r){r(l)})(I,function(s){const e="transitionend",t=o=>(o&&window.CSS&&window.CSS.escape&&(o=o.replace(/#([^\s"#']+)/g,(d,c)=>`#${CSS.escape(c)}`)),o),i=o=>o==null?`${o}`:Object.prototype.toString.call(o).match(/\s([a-z]+)/i)[1].toLowerCase(),m=o=>{do o+=Math.floor(Math.random()*1e6);while(document.getElementById(o));return o},p=o=>{if(!o)return 0;let{transitionDuration:d,transitionDelay:c}=window.getComputedStyle(o);const P=Number.parseFloat(d),D=Number.parseFloat(c);return!P&&!D?0:(d=d.split(",")[0],c=c.split(",")[0],(Number.parseFloat(d)+Number.parseFloat(c))*1e3)},v=o=>{o.dispatchEvent(new Event(e))},E=o=>!o||typeof o!="object"?!1:(typeof o.jquery<"u"&&(o=o[0]),typeof o.nodeType<"u"),_=o=>E(o)?o.jquery?o[0]:o:typeof o=="string"&&o.length>0?document.querySelector(t(o)):null,g=o=>{if(!E(o)||o.getClientRects().length===0)return!1;const d=getComputedStyle(o).getPropertyValue("visibility")==="visible",c=o.closest("details:not([open])");if(!c)return d;if(c!==o){const P=o.closest("summary");if(P&&P.parentNode!==c||P===null)return!1}return d},C=o=>!o||o.nodeType!==Node.ELEMENT_NODE||o.classList.contains("disabled")?!0:typeof o.disabled<"u"?o.disabled:o.hasAttribute("disabled")&&o.getAttribute("disabled")!=="false",S=o=>{if(!document.documentElement.attachShadow)return null;if(typeof o.getRootNode=="function"){const d=o.getRootNode();return d instanceof ShadowRoot?d:null}return o instanceof ShadowRoot?o:o.parentNode?S(o.parentNode):null},O=()=>{},w=o=>{o.offsetHeight},k=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,x=[],K=o=>{document.readyState==="loading"?(x.length||document.addEventListener("DOMContentLoaded",()=>{for(const d of x)d()}),x.push(o)):o()},W=()=>document.documentElement.dir==="rtl",h=o=>{K(()=>{const d=k();if(d){const c=o.NAME,P=d.fn[c];d.fn[c]=o.jQueryInterface,d.fn[c].Constructor=o,d.fn[c].noConflict=()=>(d.fn[c]=P,o.jQueryInterface)}})},u=(o,d=[],c=o)=>typeof o=="function"?o(...d):c,b=(o,d,c=!0)=>{if(!c){u(o);return}const D=p(d)+5;let M=!1;const N=({target:U})=>{U===d&&(M=!0,d.removeEventListener(e,N),u(o))};d.addEventListener(e,N),setTimeout(()=>{M||v(d)},D)},y=(o,d,c,P)=>{const D=o.length;let M=o.indexOf(d);return M===-1?!c&&P?o[D-1]:o[0]:(M+=c?1:-1,P&&(M=(M+D)%D),o[Math.max(0,Math.min(M,D-1))])};s.defineJQueryPlugin=h,s.execute=u,s.executeAfterTransition=b,s.findShadowRoot=S,s.getElement=_,s.getNextActiveElement=y,s.getTransitionDurationFromElement=p,s.getUID=m,s.getjQuery=k,s.isDisabled=C,s.isElement=E,s.isRTL=W,s.isVisible=g,s.noop=O,s.onDOMContentLoaded=K,s.parseSelector=t,s.reflow=w,s.toType=i,s.triggerTransitionEnd=v,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})})}(tt,tt.exports)),tt.exports}/*!
  * Bootstrap event-handler.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var bt;function Z(){return bt||(bt=1,function(f,l){(function(s,r){f.exports=r(Y())})(I,function(s){const r=/[^.]*(?=\..*)\.|.*/,a=/\..*/,e=/::\d+$/,t={};let i=1;const m={mouseenter:"mouseover",mouseleave:"mouseout"},p=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function v(h,u){return u&&`${u}::${i++}`||h.uidEvent||i++}function E(h){const u=v(h);return h.uidEvent=u,t[u]=t[u]||{},t[u]}function _(h,u){return function b(y){return W(y,{delegateTarget:h}),b.oneOff&&K.off(h,y.type,u),u.apply(h,[y])}}function g(h,u,b){return function y(o){const d=h.querySelectorAll(u);for(let{target:c}=o;c&&c!==this;c=c.parentNode)for(const P of d)if(P===c)return W(o,{delegateTarget:c}),y.oneOff&&K.off(h,o.type,u,b),b.apply(c,[o])}}function C(h,u,b=null){return Object.values(h).find(y=>y.callable===u&&y.delegationSelector===b)}function S(h,u,b){const y=typeof u=="string",o=y?b:u||b;let d=x(h);return p.has(d)||(d=h),[y,o,d]}function O(h,u,b,y,o){if(typeof u!="string"||!h)return;let[d,c,P]=S(u,b,y);u in m&&(c=(st=>function(A){if(!A.relatedTarget||A.relatedTarget!==A.delegateTarget&&!A.delegateTarget.contains(A.relatedTarget))return st.call(this,A)})(c));const D=E(h),M=D[P]||(D[P]={}),N=C(M,c,d?b:null);if(N){N.oneOff=N.oneOff&&o;return}const U=v(c,u.replace(r,"")),$=d?g(h,b,c):_(h,c);$.delegationSelector=d?b:null,$.callable=c,$.oneOff=o,$.uidEvent=U,M[U]=$,h.addEventListener(P,$,d)}function w(h,u,b,y,o){const d=C(u[b],y,o);d&&(h.removeEventListener(b,d,!!o),delete u[b][d.uidEvent])}function k(h,u,b,y){const o=u[b]||{};for(const[d,c]of Object.entries(o))d.includes(y)&&w(h,u,b,c.callable,c.delegationSelector)}function x(h){return h=h.replace(a,""),m[h]||h}const K={on(h,u,b,y){O(h,u,b,y,!1)},one(h,u,b,y){O(h,u,b,y,!0)},off(h,u,b,y){if(typeof u!="string"||!h)return;const[o,d,c]=S(u,b,y),P=c!==u,D=E(h),M=D[c]||{},N=u.startsWith(".");if(typeof d<"u"){if(!Object.keys(M).length)return;w(h,D,c,d,o?b:null);return}if(N)for(const U of Object.keys(D))k(h,D,U,u.slice(1));for(const[U,$]of Object.entries(M)){const B=U.replace(e,"");(!P||u.includes(B))&&w(h,D,c,$.callable,$.delegationSelector)}},trigger(h,u,b){if(typeof u!="string"||!h)return null;const y=s.getjQuery(),o=x(u),d=u!==o;let c=null,P=!0,D=!0,M=!1;d&&y&&(c=y.Event(u,b),y(h).trigger(c),P=!c.isPropagationStopped(),D=!c.isImmediatePropagationStopped(),M=c.isDefaultPrevented());const N=W(new Event(u,{bubbles:P,cancelable:!0}),b);return M&&N.preventDefault(),D&&h.dispatchEvent(N),N.defaultPrevented&&c&&c.preventDefault(),N}};function W(h,u={}){for(const[b,y]of Object.entries(u))try{h[b]=y}catch{Object.defineProperty(h,b,{configurable:!0,get(){return y}})}return h}return K})}(rt)),rt.exports}var at={exports:{}},lt={exports:{}};/*!
  * Bootstrap manipulator.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Et;function Nt(){return Et||(Et=1,function(f,l){(function(s,r){f.exports=r()})(I,function(){function s(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function r(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}return{setDataAttribute(e,t,i){e.setAttribute(`data-bs-${r(t)}`,i)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${r(t)}`)},getDataAttributes(e){if(!e)return{};const t={},i=Object.keys(e.dataset).filter(m=>m.startsWith("bs")&&!m.startsWith("bsConfig"));for(const m of i){let p=m.replace(/^bs/,"");p=p.charAt(0).toLowerCase()+p.slice(1,p.length),t[p]=s(e.dataset[m])}return t},getDataAttribute(e,t){return s(e.getAttribute(`data-bs-${r(t)}`))}}})}(lt)),lt.exports}/*!
  * Bootstrap config.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var yt;function mt(){return yt||(yt=1,function(f,l){(function(s,r){f.exports=r(Nt(),Y())})(I,function(s,r){class a{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,i){const m=r.isElement(i)?s.getDataAttribute(i,"config"):{};return{...this.constructor.Default,...typeof m=="object"?m:{},...r.isElement(i)?s.getDataAttributes(i):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,i=this.constructor.DefaultType){for(const[m,p]of Object.entries(i)){const v=t[m],E=r.isElement(v)?"element":r.toType(v);if(!new RegExp(p).test(E))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${m}" provided type "${E}" but expected type "${p}".`)}}}return a})}(at)),at.exports}/*!
  * Bootstrap base-component.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var At;function Xt(){return At||(At=1,function(f,l){(function(s,r){f.exports=r(Gt(),Z(),mt(),Y())})(I,function(s,r,a,e){const t="5.3.2";class i extends a{constructor(p,v){super(),p=e.getElement(p),p&&(this._element=p,this._config=this._getConfig(v),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),r.off(this._element,this.constructor.EVENT_KEY);for(const p of Object.getOwnPropertyNames(this))this[p]=null}_queueCallback(p,v,E=!0){e.executeAfterTransition(p,v,E)}_getConfig(p){return p=this._mergeConfigObj(p,this._element),p=this._configAfterMerge(p),this._typeCheckConfig(p),p}static getInstance(p){return s.get(e.getElement(p),this.DATA_KEY)}static getOrCreateInstance(p,v={}){return this.getInstance(p)||new this(p,typeof v=="object"?v:null)}static get VERSION(){return t}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(p){return`${p}${this.EVENT_KEY}`}}return i})}(nt)),nt.exports}var ct={exports:{}};/*!
  * Bootstrap selector-engine.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var vt;function ot(){return vt||(vt=1,function(f,l){(function(s,r){f.exports=r(Y())})(I,function(s){const r=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let i=e.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),t=i&&i!=="#"?s.parseSelector(i.trim()):null}return t},a={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(i=>i.matches(t))},parents(e,t){const i=[];let m=e.parentNode.closest(t);for(;m;)i.push(m),m=m.parentNode.closest(t);return i},prev(e,t){let i=e.previousElementSibling;for(;i;){if(i.matches(t))return[i];i=i.previousElementSibling}return[]},next(e,t){let i=e.nextElementSibling;for(;i;){if(i.matches(t))return[i];i=i.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(i=>`${i}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(i=>!s.isDisabled(i)&&s.isVisible(i))},getSelectorFromElement(e){const t=r(e);return t&&a.findOne(t)?t:null},getElementFromSelector(e){const t=r(e);return t?a.findOne(t):null},getMultipleElementsFromSelector(e){const t=r(e);return t?a.find(t):[]}};return a})}(ct)),ct.exports}var dt={exports:{}};/*!
  * Bootstrap backdrop.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Pt;function Zt(){return Pt||(Pt=1,function(f,l){(function(s,r){f.exports=r(Z(),mt(),Y())})(I,function(s,r,a){const e="backdrop",t="fade",i="show",m=`mousedown.bs.${e}`,p={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},v={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class E extends r{constructor(g){super(),this._config=this._getConfig(g),this._isAppended=!1,this._element=null}static get Default(){return p}static get DefaultType(){return v}static get NAME(){return e}show(g){if(!this._config.isVisible){a.execute(g);return}this._append();const C=this._getElement();this._config.isAnimated&&a.reflow(C),C.classList.add(i),this._emulateAnimation(()=>{a.execute(g)})}hide(g){if(!this._config.isVisible){a.execute(g);return}this._getElement().classList.remove(i),this._emulateAnimation(()=>{this.dispose(),a.execute(g)})}dispose(){this._isAppended&&(s.off(this._element,m),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const g=document.createElement("div");g.className=this._config.className,this._config.isAnimated&&g.classList.add(t),this._element=g}return this._element}_configAfterMerge(g){return g.rootElement=a.getElement(g.rootElement),g}_append(){if(this._isAppended)return;const g=this._getElement();this._config.rootElement.append(g),s.on(g,m,()=>{a.execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(g){a.executeAfterTransition(g,this._getElement(),this._config.isAnimated)}}return E})}(dt)),dt.exports}var et={exports:{}};/*!
  * Bootstrap component-functions.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var wt;function te(){return wt||(wt=1,function(f,l){(function(s,r){r(l,Z(),ot(),Y())})(I,function(s,r,a,e){const t=(i,m="hide")=>{const p=`click.dismiss${i.EVENT_KEY}`,v=i.NAME;r.on(document,p,`[data-bs-dismiss="${v}"]`,function(E){if(["A","AREA"].includes(this.tagName)&&E.preventDefault(),e.isDisabled(this))return;const _=a.getElementFromSelector(this)||this.closest(`.${v}`);i.getOrCreateInstance(_)[m]()})};s.enableDismissTrigger=t,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})})}(et,et.exports)),et.exports}var ut={exports:{}};/*!
  * Bootstrap focustrap.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Dt;function ee(){return Dt||(Dt=1,function(f,l){(function(s,r){f.exports=r(Z(),ot(),mt())})(I,function(s,r,a){const e="focustrap",i=".bs.focustrap",m=`focusin${i}`,p=`keydown.tab${i}`,v="Tab",E="forward",_="backward",g={autofocus:!0,trapElement:null},C={autofocus:"boolean",trapElement:"element"};class S extends a{constructor(w){super(),this._config=this._getConfig(w),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return g}static get DefaultType(){return C}static get NAME(){return e}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),s.off(document,i),s.on(document,m,w=>this._handleFocusin(w)),s.on(document,p,w=>this._handleKeydown(w)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,s.off(document,i))}_handleFocusin(w){const{trapElement:k}=this._config;if(w.target===document||w.target===k||k.contains(w.target))return;const x=r.focusableChildren(k);x.length===0?k.focus():this._lastTabNavDirection===_?x[x.length-1].focus():x[0].focus()}_handleKeydown(w){w.key===v&&(this._lastTabNavDirection=w.shiftKey?_:E)}}return S})}(ut)),ut.exports}var ft={exports:{}};/*!
  * Bootstrap scrollbar.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Mt;function oe(){return Mt||(Mt=1,function(f,l){(function(s,r){f.exports=r(Nt(),ot(),Y())})(I,function(s,r,a){const e=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",t=".sticky-top",i="padding-right",m="margin-right";class p{constructor(){this._element=document.body}getWidth(){const E=document.documentElement.clientWidth;return Math.abs(window.innerWidth-E)}hide(){const E=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,i,_=>_+E),this._setElementAttributes(e,i,_=>_+E),this._setElementAttributes(t,m,_=>_-E)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,i),this._resetElementAttributes(e,i),this._resetElementAttributes(t,m)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(E,_,g){const C=this.getWidth(),S=O=>{if(O!==this._element&&window.innerWidth>O.clientWidth+C)return;this._saveInitialAttribute(O,_);const w=window.getComputedStyle(O).getPropertyValue(_);O.style.setProperty(_,`${g(Number.parseFloat(w))}px`)};this._applyManipulationCallback(E,S)}_saveInitialAttribute(E,_){const g=E.style.getPropertyValue(_);g&&s.setDataAttribute(E,_,g)}_resetElementAttributes(E,_){const g=C=>{const S=s.getDataAttribute(C,_);if(S===null){C.style.removeProperty(_);return}s.removeDataAttribute(C,_),C.style.setProperty(_,S)};this._applyManipulationCallback(E,g)}_applyManipulationCallback(E,_){if(a.isElement(E)){_(E);return}for(const g of r.find(E,this._element))_(g)}}return p})}(ft)),ft.exports}/*!
  * Bootstrap modal.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(f,l){(function(s,r){f.exports=r(Xt(),Z(),ot(),Zt(),te(),ee(),Y(),oe())})(I,function(s,r,a,e,t,i,m,p){const v="modal",_=".bs.modal",g=".data-api",C="Escape",S=`hide${_}`,O=`hidePrevented${_}`,w=`hidden${_}`,k=`show${_}`,x=`shown${_}`,K=`resize${_}`,W=`click.dismiss${_}`,h=`mousedown.dismiss${_}`,u=`keydown.dismiss${_}`,b=`click${_}${g}`,y="modal-open",o="fade",d="show",c="modal-static",P=".modal.show",D=".modal-dialog",M=".modal-body",N='[data-bs-toggle="modal"]',U={backdrop:!0,focus:!0,keyboard:!0},$={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class B extends s{constructor(A,T){super(A,T),this._dialog=a.findOne(D,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new p,this._addEventListeners()}static get Default(){return U}static get DefaultType(){return $}static get NAME(){return v}toggle(A){return this._isShown?this.hide():this.show(A)}show(A){this._isShown||this._isTransitioning||r.trigger(this._element,k,{relatedTarget:A}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(y),this._adjustDialog(),this._backdrop.show(()=>this._showElement(A)))}hide(){!this._isShown||this._isTransitioning||r.trigger(this._element,S).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(d),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){r.off(window,_),r.off(this._dialog,_),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new e({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new i({trapElement:this._element})}_showElement(A){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const T=a.findOne(M,this._dialog);T&&(T.scrollTop=0),m.reflow(this._element),this._element.classList.add(d);const L=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,r.trigger(this._element,x,{relatedTarget:A})};this._queueCallback(L,this._dialog,this._isAnimated())}_addEventListeners(){r.on(this._element,u,A=>{if(A.key===C){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),r.on(window,K,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),r.on(this._element,h,A=>{r.one(this._element,W,T=>{if(!(this._element!==A.target||this._element!==T.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(y),this._resetAdjustments(),this._scrollBar.reset(),r.trigger(this._element,w)})}_isAnimated(){return this._element.classList.contains(o)}_triggerBackdropTransition(){if(r.trigger(this._element,O).defaultPrevented)return;const T=this._element.scrollHeight>document.documentElement.clientHeight,L=this._element.style.overflowY;L==="hidden"||this._element.classList.contains(c)||(T||(this._element.style.overflowY="hidden"),this._element.classList.add(c),this._queueCallback(()=>{this._element.classList.remove(c),this._queueCallback(()=>{this._element.style.overflowY=L},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const A=this._element.scrollHeight>document.documentElement.clientHeight,T=this._scrollBar.getWidth(),L=T>0;if(L&&!A){const Q=m.isRTL()?"paddingLeft":"paddingRight";this._element.style[Q]=`${T}px`}if(!L&&A){const Q=m.isRTL()?"paddingRight":"paddingLeft";this._element.style[Q]=`${T}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(A,T){return this.each(function(){const L=B.getOrCreateInstance(this,A);if(typeof A=="string"){if(typeof L[A]>"u")throw new TypeError(`No method named "${A}"`);L[A](T)}})}}return r.on(document,b,N,function(st){const A=a.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&st.preventDefault(),r.one(A,k,Q=>{Q.defaultPrevented||r.one(A,w,()=>{m.isVisible(this)&&this.focus()})});const T=a.findOne(P);T&&B.getInstance(T).hide(),B.getOrCreateInstance(A).toggle(this)}),t.enableDismissTrigger(B),m.defineJQueryPlugin(B),B})})(Tt);var se=Tt.exports;const St=Ot(se),ne={props:["tempProduct"],data(){return{localProduct:{...this.tempProduct},bsModal:""}},methods:{confirmProduct(){this.$emit("confirm")},createImages(){this.$emit("createImg")},delImages(f){this.$emit("delImg",f)},openModal(){this.bsModal.show()},closeModal(){this.bsModal.hide()},upload(){this.$emit("uploadImg")},uploadApi(){this.$emit("callUploadApi")}},mounted(){this.bsModal=new St(this.$refs.productModal)},watch:{tempProduct:{handler(f){this.localProduct=f}}}},ie={id:"productModal",ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},re={class:"modal-dialog modal-xl"},ae={class:"modal-content border-0"},le=n("div",{class:"modal-header bg-dark text-white"},[n("h5",{id:"productModalLabel",class:"modal-title"},[n("span",null,"新增產品")]),n("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ce={class:"modal-body"},de={class:"row"},ue={class:"col-sm-4"},fe={class:"mb-2"},he={class:"mb-3"},pe=n("label",{for:"imageUrl",class:"form-label"},"主要圖片",-1),me=["src"],_e=["for"],ge=["id","onUpdate:modelValue"],be=["src"],Ee=["onClick"],ye={class:"col-sm-8"},Ae={class:"mb-3"},ve=n("label",{for:"title",class:"form-label"},"標題",-1),Pe={class:"row"},we={class:"mb-3 col-md-6"},De=n("label",{for:"category",class:"form-label"},"分類",-1),Me={class:"mb-3 col-md-6"},Ce=n("label",{for:"unit",class:"form-label"},"單位",-1),Te={class:"row"},Ne={class:"mb-3 col-md-6"},Se=n("label",{for:"origin_price",class:"form-label"},"原價",-1),Oe={class:"mb-3 col-md-6"},xe=n("label",{for:"price",class:"form-label"},"售價",-1),ke=n("hr",null,null,-1),Ie={class:"mb-3"},$e=n("label",{for:"description",class:"form-label"},"產品描述",-1),Le={class:"mb-3"},Ve=n("label",{for:"content",class:"form-label"},"說明內容",-1),Re={class:"mb-3"},Ue={class:"form-check"},Be=n("label",{class:"form-check-label",for:"is_enabled"},"是否啟用",-1),Fe={class:"modal-footer"},qe=n("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"取消",-1);function Ke(f,l,s,r,a,e){return V(),R("div",ie,[n("div",re,[n("div",ae,[le,n("div",ce,[n("div",de,[n("div",ue,[n("div",fe,[n("div",he,[pe,F(n("input",{id:"imageUrl",type:"text",class:"form-control",placeholder:"請輸入圖片連結","onUpdate:modelValue":l[0]||(l[0]=t=>a.localProduct.imageUrl=t)},null,512),[[q,a.localProduct.imageUrl]]),n("form",null,[n("input",{type:"file",class:"form-control my-2",id:"file",placeholder:"請選擇要上傳的圖片",onChange:l[1]||(l[1]=(...t)=>e.upload&&e.upload(...t)),ref:"fileInput"},null,544),n("input",{type:"submit",value:"Upload",onClick:l[2]||(l[2]=xt((...t)=>e.uploadApi&&e.uploadApi(...t),["prevent"]))})])]),n("img",{class:"img-fluid",src:a.localProduct.imageUrl,alt:""},null,8,me),(V(!0),R(pt,null,Ct(a.localProduct.imagesUrl,(t,i)=>(V(),R("span",{key:i},[n("label",{for:"imagesUrl"+i,class:"form-label mx-4"},"輸入圖片網址",8,_e),F(n("input",{id:"imagesUrl"+i,type:"text",class:"form-control",placeholder:"請輸入圖片連結","onUpdate:modelValue":m=>a.localProduct.imagesUrl[i]=m},null,8,ge),[[q,a.localProduct.imagesUrl[i]]]),n("img",{src:t,alt:"",class:"img-fluid my-2"},null,8,be),n("div",null,[n("button",{class:"btn btn-outline-danger btn-sm d-block my-2 w-100",onClick:m=>e.delImages(i)},"刪除圖片",8,Ee)])]))),128)),n("div",null,[n("button",{class:"btn btn-outline-primary btn-sm d-block my-2 w-100",onClick:l[3]||(l[3]=(...t)=>e.createImages&&e.createImages(...t))},"新增更多圖片")])])]),n("div",ye,[n("div",Ae,[ve,F(n("input",{id:"title",type:"text",class:"form-control",placeholder:"請輸入標題","onUpdate:modelValue":l[4]||(l[4]=t=>a.localProduct.title=t)},null,512),[[q,a.localProduct.title]])]),n("div",Pe,[n("div",we,[De,F(n("input",{id:"category",type:"text",class:"form-control",placeholder:"請輸入分類","onUpdate:modelValue":l[5]||(l[5]=t=>a.localProduct.category=t)},null,512),[[q,a.localProduct.category]])]),n("div",Me,[Ce,F(n("input",{id:"unit",type:"text",class:"form-control",placeholder:"請輸入單位","onUpdate:modelValue":l[6]||(l[6]=t=>a.localProduct.unit=t)},null,512),[[q,a.localProduct.unit]])])]),n("div",Te,[n("div",Ne,[Se,F(n("input",{id:"origin_price",type:"number",min:"0",class:"form-control",placeholder:"請輸入原價","onUpdate:modelValue":l[7]||(l[7]=t=>a.localProduct.origin_price=t)},null,512),[[q,a.localProduct.origin_price,void 0,{number:!0}]])]),n("div",Oe,[xe,F(n("input",{id:"price",type:"number",min:"0",class:"form-control",placeholder:"請輸入售價","onUpdate:modelValue":l[8]||(l[8]=t=>a.localProduct.price=t)},null,512),[[q,a.localProduct.price,void 0,{number:!0}]])])]),ke,n("div",Ie,[$e,F(n("textarea",{id:"description",type:"text",class:"form-control",placeholder:"請輸入產品描述","onUpdate:modelValue":l[9]||(l[9]=t=>a.localProduct.description=t)},`\r
                    `,512),[[q,a.localProduct.description]])]),n("div",Le,[Ve,F(n("textarea",{id:"content",type:"text",class:"form-control",placeholder:"請輸入說明內容","onUpdate:modelValue":l[10]||(l[10]=t=>a.localProduct.content=t)},`\r
                    `,512),[[q,a.localProduct.content]])]),n("div",Re,[n("div",Ue,[F(n("input",{id:"is_enabled",class:"form-check-input",type:"checkbox","true-value":1,"false-value":0,"onUpdate:modelValue":l[11]||(l[11]=t=>a.localProduct.is_enabled=t)},null,512),[[kt,a.localProduct.is_enabled]]),Be])])])])]),n("div",Fe,[qe,n("button",{type:"button",class:"btn btn-primary",onClick:l[12]||(l[12]=(...t)=>e.confirmProduct&&e.confirmProduct(...t))},"確認")])])])],512)}const Ye=X(ne,[["render",Ke]]),We={props:["tempProduct"],data(){return{delModal:""}},methods:{confirmDel(){this.$emit("delProduct")},delModalShow(){this.delModal.show()},delModalHide(){this.delModal.hide()}},mounted(){this.delModal=new St(this.$refs.delProductModal)}},Qe={id:"delProductModal",ref:"delProductModal",class:"modal fade",tabindex:"-1","aria-labelledby":"delProductModalLabel","aria-hidden":"true"},ze={class:"modal-dialog"},je={class:"modal-content border-0"},He=n("div",{class:"modal-header bg-danger text-white"},[n("h5",{id:"delProductModalLabel",class:"modal-title"},[n("span",null,"刪除產品")]),n("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Je={class:"modal-body"},Ge=n("strong",{class:"text-danger"},null,-1),Xe={class:"modal-footer"},Ze=n("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"取消",-1);function to(f,l,s,r,a,e){return V(),R("div",Qe,[n("div",ze,[n("div",je,[He,n("div",Je,[ht(" 是否刪除【"+G(this.tempProduct.title)+"】 ",1),Ge,ht(" 商品(刪除後將無法恢復)。 ")]),n("div",Xe,[Ze,n("button",{type:"button",class:"btn btn-danger",onClick:l[0]||(l[0]=(...t)=>e.confirmDel&&e.confirmDel(...t))},"確認刪除")])])])],512)}const eo=X(We,[["render",to]]),oo={BASE_URL:"/vueWeek6/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_API_NAME:"jasonfu-api-vuetest",VITE_APP_API_URL:"https://ec-course-api.hexschool.io/v2"},{VITE_APP_API_URL:H,VITE_APP_API_NAME:J}=oo,so={components:{NewProductBtn:Rt,Pagination:$t,ProductTableVue:Jt,ProductModal:Ye,DelProductModal:eo},data(){return{tempProduct:{},products:[],isNew:!1,pagination:{},bsModal:"",formData:""}},methods:{renderProducts(f=1){const l=`${H}/api/${J}/admin/products?page=${f}`;this.$http.get(l).then(s=>{this.products=s.data.products,this.pagination=s.data.pagination}).catch(s=>{alert(s.response.data.message)})},openModal(f,l){f==="new"?(this.tempProduct={imagesUrl:[]},this.isNew=!0,this.$refs.productModalComponent.openModal(),this.$refs.productModalComponent.$refs.fileInput.value=""):f==="edit"?(this.tempProduct=JSON.parse(JSON.stringify(l)),this.isNew=!1,this.$refs.productModalComponent.openModal(),this.$refs.productModalComponent.$refs.fileInput.value=""):f==="delete"&&(this.tempProduct={...l},this.$refs.delProductModalComponent.delModalShow())},checkImagesArray(){this.tempProduct.imagesUrl&&(this.tempProduct.imagesUrl=this.tempProduct.imagesUrl.filter(f=>f!==""))},confirmProduct(){const f=!this.tempProduct.id,l=f?`${H}/api/${J}/admin/product`:`${H}/api/${J}/admin/product/${this.tempProduct.id}`,s=f?"post":"put";if(this.checkImagesArray(),!f){const r=this.products.find(a=>a.id===this.tempProduct.id);if(r&&JSON.stringify(r)===JSON.stringify(this.tempProduct)){alert("No changes made!!");return}}this.$http[s](l,{data:this.tempProduct}).then(r=>{if(r.data.success===!1){alert(r.data.message);return}this.renderProducts(),alert(r.data.message),this.$refs.productModalComponent.closeModal()}).catch(r=>{alert(r.response.data.message)})},confirmDel(){if(this.products.find(l=>l.id===this.tempProduct.id)){const l=`${H}/api/${J}/admin/product/${this.tempProduct.id}`;this.$http.delete(l).then(s=>{this.tempProduct={},this.$refs.delProductModalComponent.delModalHide(),this.renderProducts(),alert(s.data.message)}).catch(s=>{alert(s.response.data.message),console.dir(s.response.data.message)})}},createImages(){this.tempProduct.imagesUrl||(this.tempProduct.imagesUrl=[]),this.tempProduct.imagesUrl.push("")},delImages(f){this.tempProduct.imagesUrl.splice(f,1)},upload(){const f=this.$refs.productModalComponent.$refs.fileInput.files[0];this.formData=new FormData,this.formData.append("file-to-upload",f)},uploadApi(){if(!this.formData){alert("No file to upload");return}const f=`${H}/api/${J}/admin/upload`;this.$http.post(f,this.formData).then(l=>{alert("上傳成功"),this.tempProduct.imageUrl=l.data.imageUrl,this.$refs.productModalComponent.$refs.fileInput.value="",this.formData=""}).catch(l=>{alert(l.response.data.message)})}},mounted(){this.renderProducts()}},no={class:"container"},io={class:"text-end mt-4"};function ro(f,l,s,r,a,e){const t=z("NewProductBtn"),i=z("ProductTableVue"),m=z("Pagination"),p=z("ProductModal"),v=z("DelProductModal");return V(),R(pt,null,[n("div",no,[n("div",io,[j(t,{onOpenNewModal:e.openModal},{default:It(()=>[ht("5")]),_:1},8,["onOpenNewModal"])]),j(i,{products:a.products,onOpenCreatedModal:e.openModal},null,8,["products","onOpenCreatedModal"]),j(m,{pages:a.pagination,onEmitPages:e.renderProducts},null,8,["pages","onEmitPages"])]),j(p,{ref:"productModalComponent","temp-product":a.tempProduct,onConfirm:e.confirmProduct,onCreateImg:e.createImages,onDelImg:e.delImages,onUploadImg:e.upload,onCallUploadApi:e.uploadApi},null,8,["temp-product","onConfirm","onCreateImg","onDelImg","onUploadImg","onCallUploadApi"]),j(v,{ref:"delProductModalComponent","temp-product":a.tempProduct,onDelProduct:e.confirmDel},null,8,["temp-product","onDelProduct"])],64)}const co=X(so,[["render",ro]]);export{co as default};
