import{L as v}from"./LoadingOverlay-DjhGZX1z.js";import{_ as y,r as f,o as i,c,b as P,a as e,t as o,F as p,e as b,f as d,g as A,v as C}from"./index-Bv1ygyXE.js";const E={BASE_URL:"/vueWeek6/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_API_NAME:"jasonfu-api-vuetest",VITE_APP_API_URL:"https://ec-course-api.hexschool.io/v2"},{VITE_APP_API_URL:u,VITE_APP_API_NAME:_}=E,k={components:{LoadingOverlay:v},data(){return{product:[],qty:1,loadingComponent:!0}},methods:{getDetail(){const{id:l}=this.$route.params,s=`${u}/api/${_}/product/${l}`;this.$http.get(s).then(r=>{this.product=r.data.product,this.loadingComponent=!1}).catch(r=>{alert(r.response.data.message)})},addToCart(l,s=1){if(s<=0){alert("數量必須大於0"),this.qty=1;return}const r={product_id:l,qty:s},a=`${u}/api/${_}/cart`;this.$http.post(a,{data:r}).then(t=>{alert(t.data.message)}).catch(t=>{alert(t.response.data.message)})}},mounted(){this.getDetail()}},V={class:"container"},D={class:"",role:"document"},I={class:"border-0"},L={class:"bg-dark text-white"},T={class:"p-3"},U={class:""},x={class:"row"},N={class:"col-sm-6"},O=["src"],R=["src"],q={class:"col-sm-6"},B={class:"badge bg-primary rounded-pill my-2"},M={class:"my-2"},S={key:0,class:"h5"},w={key:1,class:"h6"},F={key:2,class:"h5"},j={class:"input-group"};function W(l,s,r,a,t,m){const h=f("LoadingOverlay");return i(),c(p,null,[P(h,{active:t.loadingComponent,"onUpdate:active":s[0]||(s[0]=n=>t.loadingComponent=n),"is-full-page":!0},null,8,["active"]),e("div",V,[e("div",D,[e("div",I,[e("div",L,[e("h5",T,o(t.product.title),1)]),e("div",U,[e("div",x,[e("div",N,[e("img",{class:"img-fluid mb-2",src:t.product.imageUrl,alt:""},null,8,O),(i(!0),c(p,null,b(t.product.imagesUrl,(n,g)=>(i(),c("span",{key:g},[e("img",{class:"img-fluid",src:n},null,8,R)]))),128))]),e("div",q,[e("span",B,o(t.product.category),1),e("h5",M,"商品描述："+o(t.product.description),1),e("h5",null,"商品內容："+o(t.product.content),1),t.product.price?d("",!0):(i(),c("div",S,o()+" 元",1)),t.product.price?(i(),c("del",w,"原價 "+o(t.product.origin_price)+" 元",1)):d("",!0),t.product.price?(i(),c("div",F,"現在只要 "+o(t.product.price)+" 元",1)):d("",!0),e("div",null,[e("div",j,[A(e("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":s[1]||(s[1]=n=>t.qty=n)},null,512),[[C,t.qty,void 0,{number:!0}]]),e("button",{type:"button",class:"btn btn-primary",onClick:s[2]||(s[2]=n=>m.addToCart(t.product.id,t.qty))},"加入購物車")])])])])])])])])],64)}const H=y(k,[["render",W]]);export{H as default};
